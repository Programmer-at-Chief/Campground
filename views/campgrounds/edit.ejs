<% layout('layouts/boilerplate') %>
<script src = '/js/new_campground_validation.js' type= 'module'> </script>

<div class = "flex flex-col justify-center w-1/2 m-auto mt-3">
  <h1 class = 'text-3xl m-auto'>Update Campground</h1>
  <hr class = 'mt-2 h-2'>
  <div class = 'mt-3'>
    <form method="POST" action='/campgrounds/<%=camp._id%>/?_method=PUT' novalidate id='form'>
      <img class = 'm-auto' src="<%= camp.image%>" alt="<%=camp.title%>">
      <div class = 'flex place-items-center mt-3'>
        <label for="state">Image URL</label>
        <div class="flex grow items-center rounded-md bg-white pl-3 outline outline-1 -outline-offset-1 outline-gray-300 focus-within:outline focus-within:outline-2 focus-within:-outline-offset-2 focus-within:outline-indigo-600 ml-2">
          <input type="text" name="image" id="image" class="block grow min-w-0 py-1.5 pl-1 pr-3 text-base text-gray-900 placeholder:text-gray-400 focus:outline focus:outline-0 sm:text-sm/6" placeholder="Image of the Campground" value = "<%=camp.image%>">
        </div>
      </div>


      <label for="title">Title : </label>
      <div class="mt-2">
        <div class="flex items-center rounded-md bg-white pl-3 outline outline-1 -outline-offset-1 outline-gray-300 focus-within:outline focus-within:outline-2 focus-within:-outline-offset-2 focus-within:outline-indigo-600">
          <input type="text" name="title" id="title" class="block min-w-0 grow py-1.5 pl-1 pr-3 text-base text-gray-900 placeholder:text-gray-400 focus:outline focus:outline-0 sm:text-sm/6" placeholder="Name of the Campground" value = "<%= camp.title%>" required title="Don't input a empty value">
        </div>
        <span class = 'text-red-500 mt-1 pl-2 ' id = 'title_error'></span>
      </div>

      <div class = 'flex justify-between place-items-center my-3'>
        <div class = 'flex place-items-center'>
          <label for="city">City : </label>
          <div class="mt-2 mx-2">
            <div class="flex items-center rounded-md bg-white pl-3 outline outline-1 -outline-offset-1 outline-gray-300 focus-within:outline focus-within:outline-2 focus-within:-outline-offset-2 focus-within:outline-indigo-600">
              <input type="text" name="city" id="city" class="block min-w-0 w-64 grow py-1.5 pl-1 pr-3 text-base text-gray-900 placeholder:text-gray-400 focus:outline focus:outline-0 sm:text-sm/6" placeholder="City" value = "<%= camp.city%>" required>
            </div>
          </div>
          <span class = 'text-red-500 mt-1 pl-2 ' id = 'desc_error'></span>
        </div>

        <div class = 'flex place-items-center'>
          <label for="state">State : </label>
          <div class="mt-2 ml-2">
            <div class="flex items-center rounded-md bg-white pl-3 outline outline-1 -outline-offset-1 outline-gray-300 focus-within:outline focus-within:outline-2 focus-within:-outline-offset-2 focus-within:outline-indigo-600">
              <input type="text" name="state" id="state" class="block min-w-0 w-64 grow py-1.5 pl-1 pr-3 text-base text-gray-900 placeholder:text-gray-400 focus:outline focus:outline-0 sm:text-sm/6" placeholder="State" value = "<%= camp.state%>" required>
            </div>
          </div>
        </div>
      </div>
      <span class = 'text-red-500 mt-1 pl-2 ' id = 'state_error'></span>
      <h1></h1>

      <label for="description">Description : </label>
      <div class="mt-2">
        <div class="flex items-center rounded-md bg-white pl-3 outline outline-1 -outline-offset-1 outline-gray-300 focus-within:outline focus-within:outline-2 focus-within:-outline-offset-2 focus-within:outline-indigo-600">
          <textarea type="text" name="description" id="description" class="block min-w-0 grow py-1.5 pl-3 pr-5 text-base text-gray-900 placeholder:text-gray-400 focus:outline focus:outline-0 sm:text-sm/6" placeholder="Description of the Campground" rows='6'  maxlength="1500" title = "Description must not be empty or more than 1500 characters" ><%= camp.description%></textarea>
        </div>
      </div>

      <div class = 'flex mt-3 items-center'>
        <label for="price">Campground Price </label>
        <div class="mx-2">
          <div class="flex items-center rounded-md bg-white outline outline-1 -outline-offset-1 outline-gray-300 focus-within:outline focus-within:outline-2 focus-within:-outline-offset-2 focus-within:outline-indigo-600">
            <span class = 'bg-gray-300 px-4 py-1 h-[34px] rounded-s-md'>$</span>
            <input type="text" name="price" id="price" class="block min-w-0 w-64 grow py-1.5 pl-1 pr-3 text-base text-gray-900 placeholder:text-gray-400 focus:outline focus:outline-0 sm:text-sm/6 pl-2" placeholder="0.00" value = "<%= camp.price%>" required>
          </div>
        </div>
      </div>
      <span class = 'text-red-500 mt-1 pl-2 ' id = 'price_error'></span>

      <h1></h1>
      <button class = 'my-3 bg-green-300 px-3 py-2 rounded-md border-[1px] border-green-500 hover:bg-green-400' type="submit">Commit Changes</button>
    </form>

  </div> 
</div>
